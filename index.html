<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>FinSight â€” Financial Analysis Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=DM+Sans:wght@300;400;500;700&display=swap" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.min.js"></script>
<style>
  :root {
    --bg: #070b14;
    --surface: #0d1525;
    --surface2: #111c30;
    --accent: #00e5ff;
    --accent2: #e91e8c;
    --accent3: #7c3aed;
    --green: #00e676;
    --red: #ff1744;
    --text: #e8eaf6;
    --muted: #546e7a;
    --border: rgba(0,229,255,0.12);
  }
  * { margin:0; padding:0; box-sizing:border-box; }
  body { background:var(--bg); color:var(--text); font-family:'DM Sans',sans-serif; min-height:100vh; overflow-x:hidden; }
  
  /* Animated background grid */
  body::before {
    content:''; position:fixed; inset:0;
    background-image: linear-gradient(rgba(0,229,255,0.03) 1px, transparent 1px),
                      linear-gradient(90deg, rgba(0,229,255,0.03) 1px, transparent 1px);
    background-size:50px 50px;
    pointer-events:none; z-index:0;
  }

  .wrapper { position:relative; z-index:1; max-width:1400px; margin:0 auto; padding:24px; }

  /* HEADER */
  header { display:flex; justify-content:space-between; align-items:center; margin-bottom:32px; padding-bottom:20px; border-bottom:1px solid var(--border); }
  .logo { font-family:'Space Mono',monospace; font-size:22px; font-weight:700; }
  .logo span { color:var(--accent); }
  .header-meta { font-size:12px; color:var(--muted); font-family:'Space Mono',monospace; }
  .live-dot { display:inline-block; width:8px; height:8px; background:var(--green); border-radius:50%; margin-right:6px; animation:pulse 2s infinite; }
  @keyframes pulse { 0%,100%{opacity:1;box-shadow:0 0 0 0 rgba(0,230,118,0.4)} 50%{opacity:.8;box-shadow:0 0 0 6px rgba(0,230,118,0)} }

  /* KPI CARDS */
  .kpi-grid { display:grid; grid-template-columns:repeat(4,1fr); gap:16px; margin-bottom:28px; }
  @media(max-width:900px){.kpi-grid{grid-template-columns:repeat(2,1fr);}}
  @media(max-width:500px){.kpi-grid{grid-template-columns:1fr;}}

  .kpi { background:var(--surface); border:1px solid var(--border); border-radius:12px; padding:20px; position:relative; overflow:hidden; transition:transform .2s,border-color .2s; }
  .kpi:hover { transform:translateY(-3px); border-color:var(--accent); }
  .kpi::before { content:''; position:absolute; top:0; left:0; right:0; height:2px; background:linear-gradient(90deg,var(--accent),var(--accent2)); }
  .kpi-label { font-size:11px; text-transform:uppercase; letter-spacing:2px; color:var(--muted); margin-bottom:10px; }
  .kpi-value { font-family:'Space Mono',monospace; font-size:26px; font-weight:700; margin-bottom:6px; }
  .kpi-change { font-size:13px; display:flex; align-items:center; gap:4px; }
  .up { color:var(--green); } .down { color:var(--red); }
  .kpi-icon { position:absolute; right:16px; top:16px; font-size:28px; opacity:.15; }

  /* CHART GRID */
  .chart-grid { display:grid; grid-template-columns:2fr 1fr; gap:16px; margin-bottom:28px; }
  @media(max-width:900px){.chart-grid{grid-template-columns:1fr;}}

  .chart-row { display:grid; grid-template-columns:1fr 1fr; gap:16px; margin-bottom:28px; }
  @media(max-width:700px){.chart-row{grid-template-columns:1fr;}}

  .card { background:var(--surface); border:1px solid var(--border); border-radius:12px; padding:22px; }
  .card-title { font-size:12px; text-transform:uppercase; letter-spacing:2px; color:var(--muted); margin-bottom:18px; display:flex; justify-content:space-between; align-items:center; }
  .card-title .badge { background:rgba(0,229,255,0.1); color:var(--accent); font-size:10px; padding:2px 8px; border-radius:20px; border:1px solid var(--border); }
  canvas { max-height:240px; }

  /* TABLE */
  .table-wrap { overflow-x:auto; }
  table { width:100%; border-collapse:collapse; font-size:13px; }
  th { text-align:left; padding:10px 14px; font-size:10px; text-transform:uppercase; letter-spacing:2px; color:var(--muted); border-bottom:1px solid var(--border); font-family:'Space Mono',monospace; }
  td { padding:12px 14px; border-bottom:1px solid rgba(255,255,255,0.04); }
  tr:hover td { background:rgba(0,229,255,0.03); }
  .tag { display:inline-block; padding:2px 8px; border-radius:4px; font-size:11px; font-weight:500; }
  .tag-growth { background:rgba(0,230,118,0.12); color:var(--green); }
  .tag-stable { background:rgba(0,229,255,0.1); color:var(--accent); }
  .tag-risk { background:rgba(255,23,68,0.12); color:var(--red); }

  /* FILTER BAR */
  .filters { display:flex; gap:10px; margin-bottom:20px; flex-wrap:wrap; }
  .filter-btn { background:var(--surface2); border:1px solid var(--border); color:var(--muted); padding:6px 16px; border-radius:20px; cursor:pointer; font-size:12px; font-family:'DM Sans',sans-serif; transition:.2s; }
  .filter-btn:hover,.filter-btn.active { background:rgba(0,229,255,0.1); border-color:var(--accent); color:var(--accent); }

  /* FOOTER */
  footer { text-align:center; padding:24px; color:var(--muted); font-size:11px; font-family:'Space Mono',monospace; border-top:1px solid var(--border); margin-top:20px; }
  footer a { color:var(--accent); text-decoration:none; }

  /* ANIMATIONS */
  .card { animation:fadeUp .5s ease both; }
  .card:nth-child(1){animation-delay:.05s} .card:nth-child(2){animation-delay:.1s} .card:nth-child(3){animation-delay:.15s}
  @keyframes fadeUp { from{opacity:0;transform:translateY(20px)} to{opacity:1;transform:translateY(0)} }
  .kpi { animation:fadeUp .4s ease both; }
  .kpi:nth-child(1){animation-delay:.0s} .kpi:nth-child(2){animation-delay:.07s} .kpi:nth-child(3){animation-delay:.14s} .kpi:nth-child(4){animation-delay:.21s}
</style>
</head>
<body>
<div class="wrapper">

  <header>
    <div class="logo">Fin<span>Sight</span></div>
    <div class="header-meta"><span class="live-dot"></span>Live Data Simulation &nbsp;|&nbsp; Portfolio Analytics Engine &nbsp;|&nbsp; Built by Vashu Tomar</div>
  </header>

  <!-- FILTERS -->
  <div class="filters">
    <button class="filter-btn active" onclick="setFilter('all',this)">All Assets</button>
    <button class="filter-btn" onclick="setFilter('equity',this)">Equity</button>
    <button class="filter-btn" onclick="setFilter('bonds',this)">Bonds</button>
    <button class="filter-btn" onclick="setFilter('realestate',this)">Real Estate</button>
    <button class="filter-btn" onclick="setFilter('crypto',this)">Crypto</button>
  </div>

  <!-- KPIs -->
  <div class="kpi-grid">
    <div class="kpi">
      <div class="kpi-icon">ðŸ’¼</div>
      <div class="kpi-label">Total AUM</div>
      <div class="kpi-value" id="kpi-aum">$48.7M</div>
      <div class="kpi-change up">â–² 12.4% YTD</div>
    </div>
    <div class="kpi">
      <div class="kpi-icon">ðŸ“ˆ</div>
      <div class="kpi-label">Net Returns</div>
      <div class="kpi-value" id="kpi-ret">+18.3%</div>
      <div class="kpi-change up">â–² vs 14.1% benchmark</div>
    </div>
    <div class="kpi">
      <div class="kpi-icon">âš¡</div>
      <div class="kpi-label">Sharpe Ratio</div>
      <div class="kpi-value" id="kpi-sharpe">2.14</div>
      <div class="kpi-change up">â–² Excellent risk-adjusted</div>
    </div>
    <div class="kpi">
      <div class="kpi-icon">ðŸ›¡</div>
      <div class="kpi-label">Max Drawdown</div>
      <div class="kpi-value" id="kpi-dd">-6.2%</div>
      <div class="kpi-change up">â–² Low volatility period</div>
    </div>
  </div>

  <!-- MAIN CHART + PIE -->
  <div class="chart-grid">
    <div class="card">
      <div class="card-title">Portfolio Performance vs Benchmark <span class="badge">12 Months</span></div>
      <canvas id="lineChart"></canvas>
    </div>
    <div class="card">
      <div class="card-title">Asset Allocation <span class="badge">Current</span></div>
      <canvas id="doughnutChart"></canvas>
    </div>
  </div>

  <!-- BAR + SCATTER -->
  <div class="chart-row">
    <div class="card">
      <div class="card-title">Monthly Returns by Sector <span class="badge">Q4 2024</span></div>
      <canvas id="barChart"></canvas>
    </div>
    <div class="card">
      <div class="card-title">Risk vs Return Analysis <span class="badge">All Holdings</span></div>
      <canvas id="bubbleChart"></canvas>
    </div>
  </div>

  <!-- TABLE -->
  <div class="card">
    <div class="card-title">Holdings Breakdown <span class="badge" id="holding-count">12 Assets</span></div>
    <div class="table-wrap">
      <table id="holdingsTable">
        <thead>
          <tr>
            <th>Asset</th><th>Sector</th><th>Allocation</th><th>Return YTD</th><th>Risk Score</th><th>Status</th>
          </tr>
        </thead>
        <tbody id="tableBody"></tbody>
      </table>
    </div>
  </div>

  <footer>
    FinSight Financial Dashboard &nbsp;Â·&nbsp; Built by <a href="#">Vashu Tomar</a> &nbsp;Â·&nbsp; Python + Flask + React + MongoDB Stack &nbsp;Â·&nbsp; Academic Simulation
  </footer>
</div>

<script>
const months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
const chartDefaults = {
  color: '#e8eaf6',
  plugins: { legend: { labels: { color:'#e8eaf6', font:{ family:'DM Sans', size:12 } } } },
  scales: {
    x: { grid:{ color:'rgba(255,255,255,0.05)' }, ticks:{ color:'#546e7a', font:{family:'Space Mono',size:10} } },
    y: { grid:{ color:'rgba(255,255,255,0.05)' }, ticks:{ color:'#546e7a', font:{family:'Space Mono',size:10} } }
  }
};

// LINE CHART
new Chart(document.getElementById('lineChart'), {
  type:'line',
  data:{
    labels: months,
    datasets:[
      { label:'Portfolio', data:[100,104,108,115,112,121,128,133,139,145,151,158], borderColor:'#00e5ff', backgroundColor:'rgba(0,229,255,0.05)', tension:.4, pointRadius:4, pointBackgroundColor:'#00e5ff', fill:true },
      { label:'Benchmark (NIFTY 50)', data:[100,103,105,110,108,113,118,122,127,131,137,141], borderColor:'#e91e8c', backgroundColor:'rgba(233,30,140,0.05)', tension:.4, pointRadius:4, pointBackgroundColor:'#e91e8c', fill:true, borderDash:[5,3] }
    ]
  },
  options:{ ...chartDefaults, responsive:true, maintainAspectRatio:true }
});

// DOUGHNUT
new Chart(document.getElementById('doughnutChart'), {
  type:'doughnut',
  data:{
    labels:['Indian Equities','US Tech ETF','Real Estate','Corporate Bonds','Crypto','Cash'],
    datasets:[{ data:[35,22,18,14,7,4], backgroundColor:['#00e5ff','#e91e8c','#7c3aed','#00e676','#ff9800','#546e7a'], borderWidth:0, hoverOffset:8 }]
  },
  options:{ responsive:true, maintainAspectRatio:true, plugins:{ legend:{ position:'right', labels:{ color:'#e8eaf6', font:{family:'DM Sans',size:11}, padding:12 } } } }
});

// BAR
new Chart(document.getElementById('barChart'), {
  type:'bar',
  data:{
    labels:['IT','Finance','FMCG','Pharma','Infra','Energy'],
    datasets:[
      { label:'Oct', data:[4.2,3.1,1.8,5.2,2.3,3.7], backgroundColor:'rgba(0,229,255,0.6)', borderRadius:4 },
      { label:'Nov', data:[3.5,4.2,2.1,3.8,3.1,2.9], backgroundColor:'rgba(233,30,140,0.6)', borderRadius:4 },
      { label:'Dec', data:[5.1,2.8,3.4,4.1,4.5,3.2], backgroundColor:'rgba(124,58,237,0.6)', borderRadius:4 }
    ]
  },
  options:{ ...chartDefaults, responsive:true, maintainAspectRatio:true }
});

// BUBBLE (Risk vs Return)
new Chart(document.getElementById('bubbleChart'), {
  type:'bubble',
  data:{
    datasets:[
      { label:'Equities', data:[{x:12,y:18,r:14},{x:18,y:24,r:10},{x:8,y:11,r:8}], backgroundColor:'rgba(0,229,255,0.5)', borderColor:'#00e5ff' },
      { label:'Bonds', data:[{x:4,y:7,r:12},{x:3,y:5,r:8}], backgroundColor:'rgba(0,230,118,0.5)', borderColor:'#00e676' },
      { label:'Crypto', data:[{x:45,y:62,r:7},{x:38,y:41,r:5}], backgroundColor:'rgba(233,30,140,0.5)', borderColor:'#e91e8c' },
      { label:'Real Estate', data:[{x:7,y:9,r:16}], backgroundColor:'rgba(124,58,237,0.5)', borderColor:'#7c3aed' }
    ]
  },
  options:{
    responsive:true, maintainAspectRatio:true,
    plugins:{ legend:{ labels:{ color:'#e8eaf6', font:{family:'DM Sans',size:11} } } },
    scales:{
      x:{ title:{ display:true, text:'Risk (Volatility %)', color:'#546e7a' }, grid:{ color:'rgba(255,255,255,0.05)' }, ticks:{ color:'#546e7a' } },
      y:{ title:{ display:true, text:'Return (%)', color:'#546e7a' }, grid:{ color:'rgba(255,255,255,0.05)' }, ticks:{ color:'#546e7a' } }
    }
  }
});

// TABLE DATA
const holdings = [
  {name:'HDFC Bank',sector:'Finance',alloc:'12%',ret:'+22.4%',risk:'Low',status:'growth'},
  {name:'Infosys',sector:'IT',alloc:'10%',ret:'+31.2%',risk:'Low',status:'growth'},
  {name:'TCS',sector:'IT',alloc:'8%',ret:'+18.7%',risk:'Low',status:'growth'},
  {name:'US Tech ETF',sector:'Global',alloc:'9%',ret:'+24.1%',risk:'Medium',status:'growth'},
  {name:'Reliance',sector:'Energy',alloc:'7%',ret:'+11.3%',risk:'Low',status:'stable'},
  {name:'Nifty BeES',sector:'Index',alloc:'8%',ret:'+14.2%',risk:'Low',status:'stable'},
  {name:'DLF Ltd',sector:'Real Estate',alloc:'6%',ret:'+28.9%',risk:'Medium',status:'growth'},
  {name:'Corp Bond Fund',sector:'Bonds',alloc:'8%',ret:'+7.1%',risk:'Very Low',status:'stable'},
  {name:'Sovereign Bond',sector:'Bonds',alloc:'6%',ret:'+6.3%',risk:'Very Low',status:'stable'},
  {name:'Bitcoin ETF',sector:'Crypto',alloc:'4%',ret:'+62.0%',risk:'High',status:'risk'},
  {name:'Ethereum',sector:'Crypto',alloc:'3%',ret:'+41.2%',risk:'High',status:'risk'},
  {name:'Cash & MMF',sector:'Liquid',alloc:'4%',ret:'+6.8%',risk:'None',status:'stable'},
];

const statusClass = {growth:'tag-growth',stable:'tag-stable',risk:'tag-risk'};
const statusLabel = {growth:'â–² Growth',stable:'â— Stable',risk:'â–¼ Volatile'};

function renderTable(filter='all') {
  const filtered = filter==='all'?holdings:holdings.filter(h=>{
    if(filter==='equity') return ['Finance','IT','Global','Energy'].includes(h.sector);
    if(filter==='bonds') return h.sector==='Bonds'||h.sector==='Liquid';
    if(filter==='realestate') return h.sector==='Real Estate'||h.sector==='Index';
    if(filter==='crypto') return h.sector==='Crypto';
    return true;
  });
  document.getElementById('tableBody').innerHTML = filtered.map(h=>`
    <tr>
      <td><strong>${h.name}</strong></td>
      <td style="color:var(--muted)">${h.sector}</td>
      <td><span style="font-family:'Space Mono',monospace">${h.alloc}</span></td>
      <td class="up" style="font-family:'Space Mono',monospace">${h.ret}</td>
      <td style="color:var(--muted)">${h.risk}</td>
      <td><span class="tag ${statusClass[h.status]}">${statusLabel[h.status]}</span></td>
    </tr>
  `).join('');
  document.getElementById('holding-count').textContent = `${filtered.length} Assets`;
}

function setFilter(f, btn) {
  document.querySelectorAll('.filter-btn').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
  renderTable(f);
}

renderTable();
</script>
</body>
</html>
